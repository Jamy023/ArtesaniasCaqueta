import{a9 as ye,r as v,S as Z,a as H,o as Ce,aa as U,Z as E,a3 as t,$ as l,a0 as _,_ as o,a5 as $,ab as f,a2 as r,a4 as P,a1 as g,a6 as p,ae as xe,ad as R,ac as Ve,ah as J,a8 as T}from"./app-CByWqgM4.js";import{Q as G,a as he,b as k,c as N,d as qe,e as K}from"./QSpace-BAEU2Gq5.js";import{Q as W}from"./QForm-CmeF7mgg.js";import{u as ke}from"./use-quasar-C36yY6TD.js";const De={class:"row items-center justify-between q-mb-lg"},Ue={class:"col-auto"},Ee={class:"row q-gutter-md"},$e={class:"col-md-4 col-sm-6 col-xs-12"},Ae={class:"col-md-3 col-sm-6 col-xs-12"},Qe={class:"col-md-3 col-sm-6 col-xs-12"},Te={class:"col-md-2 col-sm-6 col-xs-12"},Ne={class:"row items-center q-gutter-sm"},Ie={class:"text-weight-medium"},Le={class:"text-caption text-grey-6"},je={class:"text-weight-medium"},Pe={class:"text-caption text-grey-6"},Se={class:"text-weight-medium"},Fe={class:"text-caption text-grey-6"},Me={key:0},ze={key:1,class:"text-grey-5"},Be={class:"text-weight-medium"},Oe={class:"text-caption text-grey-6"},He={class:"q-gutter-xs"},Re={class:"full-width row flex-center text-grey-5 q-gutter-sm"},Ge={class:"text-h5"},Ye={class:"text-h6 text-primary q-mb-md"},Ze={class:"row q-gutter-md"},Je={class:"col-md-6 col-xs-12"},Ke={class:"col-md-6 col-xs-12"},We={class:"row q-gutter-md"},Xe={class:"col-md-6 col-xs-12"},ea={class:"col-md-6 col-xs-12"},aa={class:"text-h6 text-primary q-mb-md q-mt-lg"},la={class:"row q-gutter-md"},oa={class:"col-md-6 col-xs-12"},ta={class:"col-md-6 col-xs-12"},sa={class:"text-h6 text-primary q-mb-md q-mt-lg"},na={class:"row q-gutter-md"},ia={class:"col-md-6 col-xs-12"},ra={class:"col-md-6 col-xs-12"},da={key:0,class:"text-h6 text-primary q-mb-md q-mt-lg"},ua={key:1,class:"row q-gutter-md"},ca={class:"col-md-6 col-xs-12"},ma={class:"col-md-6 col-xs-12"},pa={class:"row items-center q-gutter-sm q-mt-md"},va={key:2,class:"row q-gutter-sm justify-end q-mt-xl"},fa={class:"text-h6"},ba={class:"text-body2 q-mb-md"},ga={class:"row q-gutter-sm justify-end q-mt-lg"},_a={__name:"AdminClientes",setup(wa){const x=ke(),S=v(!1),I=v(!1),F=v(!1),b=v([]),L=v(!1),D=v(!1),u=v("create"),C=v(null),A=v(!1),Q=v(!1),V=v(""),h=v(null),q=v(null),n=Z({nombre:"",apellido:"",tipo_documento:"",numero_documento:"",email:"",telefono:"",fecha_nacimiento:"",direccion:"",ciudad:"",departamento:"",password:"",password_confirmation:"",is_active:!0}),w=Z({password:"",password_confirmation:""}),M=v({sortBy:"created_at",descending:!0,page:1,rowsPerPage:10,rowsNumber:0}),X=[{name:"client",label:"Cliente",field:"nombre",align:"left",sortable:!0},{name:"document",label:"Documento",field:"numero_documento",align:"left",sortable:!0},{name:"location",label:"Ubicación",field:"ciudad",align:"left",sortable:!0},{name:"phone",label:"Teléfono",field:"telefono",align:"left",sortable:!1},{name:"created_at",label:"Fecha Registro",field:"created_at",align:"left",sortable:!0},{name:"status",label:"Estado",field:"is_active",align:"center",sortable:!0},{name:"actions",label:"Acciones",field:"actions",align:"center",sortable:!1}],ee=[{label:"Todos los departamentos",value:null},{label:"Antioquia",value:"Antioquia"},{label:"Bogotá D.C.",value:"Bogotá D.C."},{label:"Valle del Cauca",value:"Valle del Cauca"},{label:"Cundinamarca",value:"Cundinamarca"},{label:"Atlántico",value:"Atlántico"},{label:"Santander",value:"Santander"},{label:"Bolívar",value:"Bolívar"}],ae=[{label:"Todos los estados",value:null},{label:"Activos",value:!0},{label:"Inactivos",value:!1}],le=[{label:"Cédula de Ciudadanía",value:"CC"},{label:"Tarjeta de Identidad",value:"TI"},{label:"Cédula de Extranjería",value:"CE"},{label:"Pasaporte",value:"PP"},{label:"NIT",value:"NIT"}],oe=H(()=>{let s=[...b.value];if(V.value){const a=V.value.toLowerCase();s=s.filter(e=>e.nombre.toLowerCase().includes(a)||e.apellido.toLowerCase().includes(a)||e.email.toLowerCase().includes(a))}return h.value&&(s=s.filter(a=>a.departamento===h.value)),q.value!==null&&(s=s.filter(a=>a.is_active===q.value)),s}),te=H(()=>V.value||h.value||q.value!==null),se=H(()=>{switch(u.value){case"create":return"Nuevo Cliente";case"edit":return"Editar Cliente";case"view":return"Detalles del Cliente";default:return"Cliente"}}),ne=async()=>{var s,a;S.value=!0;try{const e=await T.get("/clientes");(s=e.data)!=null&&s.data?(b.value=e.data.data,e.data.total&&(M.value.rowsNumber=e.data.total)):Array.isArray(e.data)?b.value=e.data:b.value=[],x.notify({type:"positive",message:`${b.value.length} clientes cargados correctamente`,icon:"bi-check-circle"})}catch(e){console.error("Error loading clients:",e);let d="Error al cargar clientes";e.response?e.response.status===401?d="No tienes permisos para acceder a esta información":e.response.status===403?d="Acceso denegado":(a=e.response.data)!=null&&a.message&&(d=e.response.data.message):e.request?d="Error de conexión con el servidor":d=e.message,x.notify({type:"negative",message:d,icon:"bi-exclamation-triangle"}),b.value=[]}finally{S.value=!1}},z=(s,a=null)=>{u.value=s,C.value=a,s==="create"?Object.assign(n,{nombre:"",apellido:"",tipo_documento:"",numero_documento:"",email:"",telefono:"",fecha_nacimiento:"",direccion:"",ciudad:"",departamento:"",password:"",password_confirmation:"",is_active:!0}):a&&Object.assign(n,{nombre:a.nombre||"",apellido:a.apellido||"",tipo_documento:a.tipo_documento||"",numero_documento:a.numero_documento||"",email:a.email||"",telefono:a.telefono||"",fecha_nacimiento:a.fecha_nacimiento||"",direccion:a.direccion||"",ciudad:a.ciudad||"",departamento:a.departamento||"",password:"",password_confirmation:"",is_active:a.is_active??!0}),L.value=!0},B=()=>{L.value=!1,C.value=null,I.value=!1},ie=async()=>{var s,a,e,d,i,c,y;I.value=!0;try{let m;if(u.value==="create")m=await T.post("/clientes",n),(s=m.data)!=null&&s.client&&b.value.unshift(m.data.client);else if(u.value==="edit"&&C.value){const{password:j,password_confirmation:ge,..._e}=n;m=await T.put(`/clientes/${C.value.id}`,_e);const Y=b.value.findIndex(we=>we.id===C.value.id);Y!==-1&&((a=m.data)!=null&&a.client)&&(b.value[Y]=m.data.client)}x.notify({type:"positive",message:((e=m.data)==null?void 0:e.message)||"Operación completada correctamente",icon:"bi-check-circle"}),B()}catch(m){console.error("Error saving client:",m);let j="Error al guardar el cliente";(i=(d=m.response)==null?void 0:d.data)!=null&&i.message?j=m.response.data.message:(y=(c=m.response)==null?void 0:c.data)!=null&&y.errors&&(j=Object.values(m.response.data.errors).flat().join(", ")),x.notify({type:"negative",message:j,icon:"bi-exclamation-triangle"})}finally{I.value=!1}},re=s=>{C.value=s,w.password="",w.password_confirmation="",D.value=!0},de=async()=>{var s,a,e,d,i;F.value=!0;try{const c=await T.patch(`/clientes/${C.value.id}/change-password`,{password:w.password,password_confirmation:w.password_confirmation});x.notify({type:"positive",message:((s=c.data)==null?void 0:s.message)||"Contraseña cambiada correctamente",icon:"bi-check-circle"}),D.value=!1,w.password="",w.password_confirmation=""}catch(c){console.error("Error changing password:",c);let y="Error al cambiar la contraseña";(e=(a=c.response)==null?void 0:a.data)!=null&&e.message?y=c.response.data.message:(i=(d=c.response)==null?void 0:d.data)!=null&&i.errors&&(y=Object.values(c.response.data.errors).flat().join(", ")),x.notify({type:"negative",message:y,icon:"bi-exclamation-triangle"})}finally{F.value=!1}},ue=async s=>{var a,e,d;s.updating=!0;try{const i=await T.patch(`/clientes/${s.id}/toggle-active`),c=b.value.findIndex(m=>m.id===s.id);c!==-1&&(b.value[c].is_active=!b.value[c].is_active);const y=((a=i.data)==null?void 0:a.message)||`Cliente ${b.value[c].is_active?"activado":"desactivado"} correctamente`;x.notify({type:"positive",message:y,icon:"bi-check-circle"})}catch(i){console.error("Error toggling client status:",i);let c="Error al cambiar el estado del cliente";(d=(e=i.response)==null?void 0:e.data)!=null&&d.message&&(c=i.response.data.message),x.notify({type:"negative",message:c,icon:"bi-exclamation-triangle"})}finally{s.updating=!1}},O=()=>{console.log("Filtros aplicados:",{search:V.value,department:h.value,status:q.value})},ce=()=>{V.value="",h.value=null,q.value=null},me=s=>{M.value=s.pagination},pe=s=>s.split(" ").map(a=>a.charAt(0)).join("").substring(0,2).toUpperCase(),ve=s=>s?s.replace(/(\d{3})(\d{3})(\d{4})/,"$1 $2 $3"):"",fe=s=>s?new Date(s).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit"}):"",be=s=>{if(!s)return"";const a=new Date(s),d=Math.abs(new Date-a),i=Math.ceil(d/(1e3*60*60*24));if(i===1)return"Hace 1 día";if(i<30)return`Hace ${i} días`;const c=Math.floor(i/30);if(c===1)return"Hace 1 mes";if(c<12)return`Hace ${c} meses`;const y=Math.floor(c/12);return y===1?"Hace 1 año":`Hace ${y} años`};return Ce(async()=>{await ne()}),(s,a)=>(E(),U("div",null,[t("div",De,[a[25]||(a[25]=t("div",{class:"col"},[t("br"),t("br"),t("h4",{class:"text-h4 q-my-none"},"Gestión de Clientes"),t("p",{class:"text-grey-6"},"Administra los clientes registrados en tu tienda")],-1)),t("div",Ue,[l(_,{color:"primary",icon:"bi-plus-circle",label:"Nuevo Cliente",unelevated:"",size:"md",class:"q-px-lg",onClick:a[0]||(a[0]=e=>z("create"))})])]),l(P,{flat:"",bordered:"",class:"q-mb-md"},{default:o(()=>[l($,null,{default:o(()=>[t("div",Ee,[t("div",$e,[l(f,{modelValue:V.value,"onUpdate:modelValue":a[1]||(a[1]=e=>V.value=e),placeholder:"Buscar por nombre o email...",outlined:"",dense:"",clearable:"",onInput:O},{prepend:o(()=>[l(r,{name:"bi-search"})]),_:1},8,["modelValue"])]),t("div",Ae,[l(G,{modelValue:h.value,"onUpdate:modelValue":[a[2]||(a[2]=e=>h.value=e),O],options:ee,placeholder:"Todos los departamentos",outlined:"",dense:"",clearable:"","emit-value":"","map-options":""},null,8,["modelValue"])]),t("div",Qe,[l(G,{modelValue:q.value,"onUpdate:modelValue":[a[3]||(a[3]=e=>q.value=e),O],options:ae,placeholder:"Todos los estados",outlined:"",dense:"",clearable:"","emit-value":"","map-options":""},null,8,["modelValue"])]),t("div",Te,[l(_,{flat:"",icon:"bi-x-circle",label:"Limpiar",onClick:ce,disable:!te.value},null,8,["disable"])])])]),_:1})]),_:1}),l(P,{flat:"",bordered:""},{default:o(()=>[l($,null,{default:o(()=>[l(he,{rows:oe.value,columns:X,"row-key":"id",loading:S.value,flat:"",bordered:"",pagination:M.value,onRequest:me},{"body-cell-client":o(e=>[l(k,{props:e},{default:o(()=>[t("div",Ne,[l(xe,{size:"40px",color:"primary","text-color":"white"},{default:o(()=>[g(p(pe(e.row.nombre+" "+e.row.apellido)),1)]),_:2},1024),t("div",null,[t("div",Ie,p(e.row.nombre)+" "+p(e.row.apellido),1),t("div",Le,p(e.row.email),1)])])]),_:2},1032,["props"])]),"body-cell-document":o(e=>[l(k,{props:e},{default:o(()=>[t("div",null,[t("div",je,p(e.row.tipo_documento),1),t("div",Pe,p(e.row.numero_documento),1)])]),_:2},1032,["props"])]),"body-cell-location":o(e=>[l(k,{props:e},{default:o(()=>[t("div",null,[t("div",Se,p(e.row.ciudad||"Sin especificar"),1),t("div",Fe,p(e.row.departamento||"Sin especificar"),1)])]),_:2},1032,["props"])]),"body-cell-phone":o(e=>[l(k,{props:e},{default:o(()=>[e.row.telefono?(E(),U("span",Me,p(ve(e.row.telefono)),1)):(E(),U("span",ze,"Sin teléfono"))]),_:2},1032,["props"])]),"body-cell-created_at":o(e=>[l(k,{props:e},{default:o(()=>[t("div",null,[t("div",Be,p(fe(e.row.created_at)),1),t("div",Oe,p(be(e.row.created_at)),1)])]),_:2},1032,["props"])]),"body-cell-status":o(e=>[l(k,{props:e},{default:o(()=>[l(qe,{label:e.row.is_active?"Activo":"Inactivo",color:e.row.is_active?"positive":"negative","text-color":"white",size:"sm"},null,8,["label","color"])]),_:2},1032,["props"])]),"body-cell-actions":o(e=>[l(k,{props:e},{default:o(()=>[t("div",He,[l(_,{flat:"",round:"",icon:"bi-eye",size:"sm",color:"info",onClick:d=>z("view",e.row)},{default:o(()=>[l(N,null,{default:o(()=>a[26]||(a[26]=[g("Ver detalles")])),_:1,__:[26]})]),_:2},1032,["onClick"]),l(_,{flat:"",round:"",icon:"bi-pencil",size:"sm",color:"primary",onClick:d=>z("edit",e.row)},{default:o(()=>[l(N,null,{default:o(()=>a[27]||(a[27]=[g("Editar")])),_:1,__:[27]})]),_:2},1032,["onClick"]),l(_,{flat:"",round:"",icon:"bi-key",size:"sm",color:"warning",onClick:d=>re(e.row)},{default:o(()=>[l(N,null,{default:o(()=>a[28]||(a[28]=[g("Cambiar contraseña")])),_:1,__:[28]})]),_:2},1032,["onClick"]),l(_,{flat:"",round:"",icon:"bi-toggle-on",size:"sm",color:e.row.is_active?"negative":"positive",onClick:d=>ue(e.row)},{default:o(()=>[l(N,null,{default:o(()=>[g(p(e.row.is_active?"Desactivar":"Activar"),1)]),_:2},1024)]),_:2},1032,["color","onClick"])])]),_:2},1032,["props"])]),"no-data":o(()=>[t("div",Re,[l(r,{size:"2em",name:"bi-people"}),a[29]||(a[29]=t("span",null,"No se encontraron clientes",-1))])]),_:1},8,["rows","loading","pagination"])]),_:1})]),_:1}),l(J,{modelValue:L.value,"onUpdate:modelValue":a[18]||(a[18]=e=>L.value=e),persistent:"","transition-show":"slide-up","transition-hide":"slide-down"},{default:o(()=>[l(P,{class:"full-width"},{default:o(()=>[l($,{class:"row items-center q-pb-none bg-primary text-white"},{default:o(()=>[t("div",Ge,[l(r,{name:u.value==="create"?"bi-plus-circle":u.value==="edit"?"bi-pencil":"bi-eye",class:"q-mr-sm"},null,8,["name"]),g(" "+p(se.value),1)]),l(K),l(_,{icon:"bi-x",flat:"",round:"",dense:"",onClick:B})]),_:1}),l($,{class:"q-pa-lg"},{default:o(()=>[l(W,{onSubmit:ie,class:"q-gutter-md"},{default:o(()=>[t("div",Ye,[l(r,{name:"bi-person",class:"q-mr-sm"}),a[30]||(a[30]=g(" Información Personal "))]),t("div",Ze,[t("div",Je,[l(f,{modelValue:n.nombre,"onUpdate:modelValue":a[4]||(a[4]=e=>n.nombre=e),label:"Nombre *",outlined:"",readonly:u.value==="view",rules:[e=>!!e||"El nombre es obligatorio"]},{prepend:o(()=>[l(r,{name:"bi-person"})]),_:1},8,["modelValue","readonly","rules"])]),t("div",Ke,[l(f,{modelValue:n.apellido,"onUpdate:modelValue":a[5]||(a[5]=e=>n.apellido=e),label:"Apellido *",outlined:"",readonly:u.value==="view",rules:[e=>!!e||"El apellido es obligatorio"]},{prepend:o(()=>[l(r,{name:"bi-person"})]),_:1},8,["modelValue","readonly","rules"])])]),t("div",We,[t("div",Xe,[l(G,{modelValue:n.tipo_documento,"onUpdate:modelValue":a[6]||(a[6]=e=>n.tipo_documento=e),options:le,label:"Tipo de Documento *",outlined:"",readonly:u.value==="view",rules:[e=>!!e||"El tipo de documento es obligatorio"]},{prepend:o(()=>[l(r,{name:"bi-card-text"})]),_:1},8,["modelValue","readonly","rules"])]),t("div",ea,[l(f,{modelValue:n.numero_documento,"onUpdate:modelValue":a[7]||(a[7]=e=>n.numero_documento=e),label:"Número de Documento *",outlined:"",readonly:u.value!=="create",rules:u.value==="create"?[e=>!!e||"El número de documento es obligatorio"]:[],hint:u.value==="edit"?"No se puede modificar el documento":""},{prepend:o(()=>[l(r,{name:"bi-hash"})]),_:1},8,["modelValue","readonly","rules","hint"])])]),t("div",aa,[l(r,{name:"bi-envelope",class:"q-mr-sm"}),a[31]||(a[31]=g(" Información de Contacto "))]),l(f,{modelValue:n.email,"onUpdate:modelValue":a[8]||(a[8]=e=>n.email=e),label:"Email *",type:"email",outlined:"",readonly:u.value==="view",rules:[e=>!!e||"El email es obligatorio",e=>/.+@.+\..+/.test(e)||"Email inválido"]},{prepend:o(()=>[l(r,{name:"bi-envelope"})]),_:1},8,["modelValue","readonly","rules"]),t("div",la,[t("div",oa,[l(f,{modelValue:n.telefono,"onUpdate:modelValue":a[9]||(a[9]=e=>n.telefono=e),label:"Teléfono",outlined:"",readonly:u.value==="view",mask:"### ### ####"},{prepend:o(()=>[l(r,{name:"bi-telephone"})]),_:1},8,["modelValue","readonly"])]),t("div",ta,[l(f,{modelValue:n.fecha_nacimiento,"onUpdate:modelValue":a[10]||(a[10]=e=>n.fecha_nacimiento=e),label:"Fecha de Nacimiento",type:"date",outlined:"",readonly:u.value==="view"},{prepend:o(()=>[l(r,{name:"bi-calendar"})]),_:1},8,["modelValue","readonly"])])]),t("div",sa,[l(r,{name:"bi-geo-alt",class:"q-mr-sm"}),a[32]||(a[32]=g(" Ubicación "))]),l(f,{modelValue:n.direccion,"onUpdate:modelValue":a[11]||(a[11]=e=>n.direccion=e),label:"Dirección",outlined:"",readonly:u.value==="view"},{prepend:o(()=>[l(r,{name:"bi-house"})]),_:1},8,["modelValue","readonly"]),t("div",na,[t("div",ia,[l(f,{modelValue:n.departamento,"onUpdate:modelValue":a[12]||(a[12]=e=>n.departamento=e),label:"Departamento",outlined:"",readonly:u.value==="view"},{prepend:o(()=>[l(r,{name:"bi-map"})]),_:1},8,["modelValue","readonly"])]),t("div",ra,[l(f,{modelValue:n.ciudad,"onUpdate:modelValue":a[13]||(a[13]=e=>n.ciudad=e),label:"Ciudad",outlined:"",readonly:u.value==="view"},{prepend:o(()=>[l(r,{name:"bi-building"})]),_:1},8,["modelValue","readonly"])])]),u.value==="create"?(E(),U("div",da,[l(r,{name:"bi-shield-lock",class:"q-mr-sm"}),a[33]||(a[33]=g(" Contraseña "))])):R("",!0),u.value==="create"?(E(),U("div",ua,[t("div",ca,[l(f,{modelValue:n.password,"onUpdate:modelValue":a[15]||(a[15]=e=>n.password=e),label:"Contraseña *",type:A.value?"text":"password",outlined:"",rules:[e=>!!e||"La contraseña es obligatoria",e=>e.length>=8||"La contraseña debe tener al menos 8 caracteres"]},{prepend:o(()=>[l(r,{name:"bi-lock"})]),append:o(()=>[l(r,{name:A.value?"bi-eye-slash":"bi-eye",class:"cursor-pointer",onClick:a[14]||(a[14]=e=>A.value=!A.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"])]),t("div",ma,[l(f,{modelValue:n.password_confirmation,"onUpdate:modelValue":a[16]||(a[16]=e=>n.password_confirmation=e),label:"Confirmar contraseña *",type:A.value?"text":"password",outlined:"",rules:[e=>!!e||"Confirma la contraseña",e=>e===n.password||"Las contraseñas no coinciden"]},{prepend:o(()=>[l(r,{name:"bi-lock"})]),_:1},8,["modelValue","type","rules"])])])):R("",!0),t("div",pa,[l(Ve,{modelValue:n.is_active,"onUpdate:modelValue":a[17]||(a[17]=e=>n.is_active=e),label:"Cliente activo",disable:u.value==="view",color:"positive"},null,8,["modelValue","disable"]),l(r,{name:"bi-question-circle",color:"grey-6",size:"sm"},{default:o(()=>[l(N,null,{default:o(()=>a[34]||(a[34]=[g("Los clientes inactivos no pueden iniciar sesión")])),_:1,__:[34]})]),_:1})]),u.value!=="view"?(E(),U("div",va,[l(_,{flat:"",label:"Cancelar",color:"grey-7",onClick:B}),l(_,{type:"submit",label:u.value==="create"?"Crear Cliente":"Actualizar Cliente",color:"primary",loading:I.value,"icon-right":"bi-save"},null,8,["label","loading"])])):R("",!0)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(J,{modelValue:D.value,"onUpdate:modelValue":a[24]||(a[24]=e=>D.value=e),persistent:""},{default:o(()=>[l(P,{style:{"min-width":"400px"}},{default:o(()=>[l($,{class:"row items-center q-pb-none"},{default:o(()=>[t("div",fa,[l(r,{name:"bi-key",class:"q-mr-sm"}),a[35]||(a[35]=g(" Cambiar Contraseña "))]),l(K),l(_,{icon:"bi-x",flat:"",round:"",dense:"",onClick:a[19]||(a[19]=e=>D.value=!1)})]),_:1}),l($,null,{default:o(()=>{var e,d;return[t("div",ba,[a[36]||(a[36]=g(" Cambiar contraseña para: ")),t("strong",null,p((e=C.value)==null?void 0:e.nombre)+" "+p((d=C.value)==null?void 0:d.apellido),1)]),l(W,{onSubmit:de,class:"q-gutter-md"},{default:o(()=>[l(f,{modelValue:w.password,"onUpdate:modelValue":a[21]||(a[21]=i=>w.password=i),label:"Nueva contraseña *",type:Q.value?"text":"password",outlined:"",rules:[i=>!!i||"La contraseña es obligatoria",i=>i.length>=8||"La contraseña debe tener al menos 8 caracteres"]},{prepend:o(()=>[l(r,{name:"bi-lock"})]),append:o(()=>[l(r,{name:Q.value?"bi-eye-slash":"bi-eye",class:"cursor-pointer",onClick:a[20]||(a[20]=i=>Q.value=!Q.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),l(f,{modelValue:w.password_confirmation,"onUpdate:modelValue":a[22]||(a[22]=i=>w.password_confirmation=i),label:"Confirmar nueva contraseña *",type:Q.value?"text":"password",outlined:"",rules:[i=>!!i||"Confirma la contraseña",i=>i===w.password||"Las contraseñas no coinciden"]},{prepend:o(()=>[l(r,{name:"bi-lock"})]),_:1},8,["modelValue","type","rules"]),t("div",ga,[l(_,{flat:"",label:"Cancelar",color:"grey-7",onClick:a[23]||(a[23]=i=>D.value=!1)}),l(_,{type:"submit",label:"Cambiar Contraseña",color:"primary",loading:F.value,"icon-right":"bi-key"},null,8,["loading"])])]),_:1})]}),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},ha=ye(_a,[["__scopeId","data-v-a8f120ce"]]);export{ha as default};
